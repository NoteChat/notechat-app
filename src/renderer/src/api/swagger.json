{"openapi":"3.0.0","paths":{"/v1":{"get":{"operationId":"getHello","parameters":[],"responses":{"200":{"description":""}}}},"/v1/auth/login":{"post":{"operationId":"login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"201":{"description":""}}}},"/v1/auth/register":{"post":{"operationId":"register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterDto"}}}},"responses":{"201":{"description":""}}}},"/v1/auth/valid":{"get":{"operationId":"getValidCode","parameters":[{"name":"email","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/v1/auth/find-password":{"post":{"operationId":"findPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"email":"email@example.com","resetUrl":"http://textops.app/reset-pwd"}}}}},"responses":{"201":{"description":""}}}},"/v1/auth/reset-password":{"post":{"operationId":"ResetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"email":"email@example.com","password":"","validCode":"12345"}}}}},"responses":{"201":{"description":""}}}},"/v1/user/profile":{"get":{"operationId":"getProfile","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/user/update":{"post":{"operationId":"updateProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/user/count-tokens":{"post":{"operationId":"updateUserTokens","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"prompt":{"type":"string"},"completion":{"type":"string"},"userId":{"type":"number"}}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/user/feedback":{"post":{"operationId":"feedback","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"feedback":{"type":"string"}}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/ai/complete":{"post":{"operationId":"autocomplete","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptRecordDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt/query":{"get":{"operationId":"getPrompt","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"","required":true,"in":"query","schema":{"properties":{"userId":{"type":"number","description":"用户ID"},"limit":{"type":"number","description":"查询条数"}}}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt/create":{"post":{"operationId":"createPrompt","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt/update":{"post":{"operationId":"updatePrompt","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt/delete":{"post":{"operationId":"deletePrompt","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"id":1}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt-records/query":{"get":{"operationId":"getPrompt","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"string"}},{"name":"promptId","required":true,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt-records/queryByUserId":{"get":{"operationId":"getPromptByUserId","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/prompt-records/delete":{"post":{"operationId":"deletePrompt","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"id":1}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/text/extract-from-img":{"post":{"operationId":"extractTextFromImg","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/text/extract-from-file":{"post":{"operationId":"uploadFile","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/editor":{"post":{"operationId":"createEditor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEditorDto"}}}},"responses":{"201":{"description":""}}},"get":{"operationId":"findAllEditor","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/v1/editor/{id}":{"get":{"operationId":"findOneEditor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}},"patch":{"operationId":"updateEditor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEditorDto"}}}},"responses":{"200":{"description":""}}},"delete":{"operationId":"removeEditor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/v1/generator":{"post":{"operationId":"createGenerator","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGeneratorDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]},"get":{"operationId":"findAllGenerators","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/generator/{id}":{"get":{"operationId":"findOneGenerator","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]},"patch":{"operationId":"updateGenerator","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGeneratorDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/generator/delete":{"post":{"operationId":"removeGenerator","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"id":1}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/generator/delete-all":{"post":{"operationId":"removeAllGenerator","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"userId":1}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/generator/batch-create":{"post":{"operationId":"batchCreateGenerator","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"data":[]}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/favorite/create":{"post":{"operationId":"createFavorite","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/favorite/query":{"get":{"operationId":"getUserFavoriteByTitle","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"string"}},{"name":"title","required":true,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"string"}},{"name":"skip","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/favorite/{id}":{"get":{"operationId":"getFavorite","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/favorite/update":{"post":{"operationId":"updateFavorite","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/favorite/delete":{"post":{"operationId":"deleteFavorite","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"example":{"id":1}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/v1/package":{"post":{"operationId":"createPackage","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePackageDto"}}}},"responses":{"201":{"description":""}}},"get":{"operationId":"findAllPackage","parameters":[],"responses":{"200":{"description":""}}}},"/v1/package/{id}":{"get":{"operationId":"findOnePackage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}},"patch":{"operationId":"updatePackage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePackageDto"}}}},"responses":{"200":{"description":""}}},"delete":{"operationId":"removePackage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/v1/order":{"post":{"operationId":"createOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]},"get":{"operationId":"findAllOrder","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/order/{id}":{"get":{"operationId":"findOneOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]},"patch":{"operationId":"updateOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}]},"delete":{"operationId":"removeOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/v1/stripe/hooks":{"post":{"operationId":"stripeHooks","parameters":[],"responses":{"201":{"description":""}}}},"/v1/notion/create-page":{"post":{"operationId":"createPage","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"}}}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}}},"info":{"title":"Pointer API","description":"The API of Pointer API Service","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"AuthDto":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"required":["username","password"]},"UserRegisterDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"validCode":{"type":"string"}},"required":["email","password","validCode"]},"UserDto":{"type":"object","properties":{"phone":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"},"id":{"type":"number"},"alias":{"type":"string"},"email":{"type":"string"},"aiEngine":{"type":"string"},"language":{"type":"string"},"promptTokens":{"type":"number"},"completionTokens":{"type":"number"},"notionApiKey":{"type":"string"},"notionRootPageId":{"type":"string"},"package":{"type":"string"},"customerId":{"type":"string"},"expiresAt":{"format":"date-time","type":"string"},"paymentIntentId":{"type":"string"},"amount":{"type":"number"},"paymentMode":{"type":"string"},"subscribeInterval":{"type":"string"}},"required":["id"]},"PromptRecordDto":{"type":"object","properties":{"userId":{"type":"number","example":1},"promptId":{"type":"number"},"prompt":{"type":"string"},"content":{"type":"string"},"countTokens":{"type":"number"}},"required":["userId","prompt","content"]},"PromptDto":{"type":"object","properties":{"id":{"type":"number"},"userId":{"type":"number","example":1},"name":{"type":"string"},"icon":{"type":"string"},"description":{"type":"string"},"prompt":{"type":"string","example":"### 指令 ###\n将以下文本翻译成西班牙语：\n文本：$content\n    "},"keybindings":{"type":"string","example":"CommandOrControl+Shift+1"},"isBuiltIn":{"type":"number","example":"0 // 0: false, 1: true"}},"required":["id","userId","name","icon","description","prompt","keybindings","isBuiltIn"]},"CreateEditorDto":{"type":"object","properties":{"id":{"type":"number"},"userId":{"type":"number"},"title":{"type":"string"},"content":{"type":"string"}},"required":["userId","content"]},"UpdateEditorDto":{"type":"object","properties":{"id":{"type":"number"},"userId":{"type":"number"},"title":{"type":"string"},"content":{"type":"string"}}},"CreateGeneratorDto":{"type":"object","properties":{"id":{"type":"number"},"result":{"type":"string"},"userId":{"type":"number"},"title":{"type":"string"},"keywords":{"type":"string"},"reference":{"type":"string"},"style":{"type":"string"},"prompt":{"type":"string"},"status":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["userId"]},"UpdateGeneratorDto":{"type":"object","properties":{"id":{"type":"number"},"result":{"type":"string"},"userId":{"type":"number"},"title":{"type":"string"},"keywords":{"type":"string"},"reference":{"type":"string"},"style":{"type":"string"},"prompt":{"type":"string"},"status":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}}},"FavoriteDto":{"type":"object","properties":{"id":{"type":"number"},"userId":{"type":"number"},"title":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"content":{"type":"string"},"isDelete":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}}},"CreatePackageDto":{"type":"object","properties":{"name":{"type":"string"},"items":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"price":{"type":"number"},"subscribeType":{"type":"string","example":"monthly/yearly"}},"required":["name","items","description","price","subscribeType"]},"UpdatePackageDto":{"type":"object","properties":{"name":{"type":"string"},"items":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"price":{"type":"number"},"subscribeType":{"type":"string","example":"monthly/yearly"},"id":{"type":"number"}},"required":["id"]},"CreateOrderDto":{"type":"object","properties":{"userId":{"type":"number"},"packageId":{"type":"number"},"price":{"type":"number"},"status":{"type":"string"},"expiredAt":{"format":"date-time","type":"string"}},"required":["userId","packageId","price","status","expiredAt"]},"UpdateOrderDto":{"type":"object","properties":{"userId":{"type":"number"},"packageId":{"type":"number"},"price":{"type":"number"},"status":{"type":"string"},"expiredAt":{"format":"date-time","type":"string"},"id":{"type":"number"}},"required":["id"]}}}}